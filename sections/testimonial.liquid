<div class="testimonials container">
  {% if section.settings.heading_text != blank %}
    <h2 class="testimonials__heading center">{{ section.settings.heading_text }}</h2>
  {% endif %}

  {% if section.blocks.size > 0 %}
    <div class="testimonials__wrapper">
      <div class="testimonials__slider" data-flickity='{ "cellAlign": "left", "contain": true, "prevNextButtons": false }'>
        {% for block in section.blocks %}
          <div class="testimonials__content">
            <div class="testimonials-item center">
              <div class="testimonials-item__image">
                {% render 'image', mobileSrc: block.settings.testimonials_section_image, desktopSrc: block.settings.testimonials_section_image %}
              </div>
              <div class="testimonials-item__reviews">
                {% for star in (1..block.settings.review_start) %}
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
                    <path d="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z" />
                  </svg>
                {% endfor %}
              </div>

              {% if block.settings.paragraph_text != blank %}
                <div class="testimonials-item__text">
                  {{ block.settings.paragraph_text }}
                </div>
              {% endif %}

              {% if block.settings.author_name != blank %}
                <div class="testimonials-item__author h5">
                  {{ block.settings.author_name }}
                </div>
              {% endif %}
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  {% endif %}
</div>


{% schema %}
  {
    "name": "Testimonials",
    "class": "homepage-section",
    "tag": "section",
    "settings": [
      {
        "type": "text",
        "id": "heading_text",
        "label": "Heading Text",
        "default": "WHAT YOUR CLIENTS SAY"
      }
    ],
    "blocks": [
      {
        "name": "Testimonial",
        "type": "testimonial-content",
        "settings": [
          {
            "type": "header",
            "content": "IMAGE SETTINGS"
          },
          {
            "type": "image_picker",
            "id": "testimonials_section_image",
            "label": "Image"
          },
          {
            "type": "select",
            "id": "review_start",
            "label": "Customer reviews",
            "options": [
              {
                "value": "1",
                "label": "1 star"
              },
              {
                "value": "2",
                "label": "2 star"
              },
              {
                "value": "3",
                "label": "3 star"
              },
              {
                "value": "4",
                "label": "4 star"
              }, {
                "value": "5",
                "label": "5 star"
              }
            ],
            "default": "4"
          },
          {
            "type": "header",
            "content": "CONTENT SETTING"
          }, {
            "type": "richtext",
            "id": "paragraph_text",
            "label": "Customer testimonial",
            "default": "<p>It's Mecca of all the sports enthusiastic. One stopt shop for all your sports need. the variety of equipments ypu need for any of your favourites sprots is there.The quantity of product is also good</p>"
          }, {
            "type": "richtext",
            "id": "author_name",
            "label": "Customer name",
            "default": "<p>John smith/London</p>"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Testimonials"
      }
    ]
  }
{% endschema %}